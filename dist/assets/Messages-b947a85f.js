import{_ as te,r as c,c as A,o as re,a as se,b as n,d as l,e as ae,f as t,h as f,w as _,v as j,j as y,F as w,l as M,n as d,t as i,s as U,i as I,m as oe,C as T}from"./index-85c8a86e.js";const ne={name:"UserMessages",setup(){const u=c([]),e=c(null),C=c(""),r=c(""),S=c(!1),v=c(!1),p=c(""),s=c(""),x=c(null),g=c(null),b=JSON.parse(localStorage.getItem("userData")||"{}"),E=c(["ðŸ˜€","ðŸ˜Š","ðŸ˜‚","ðŸ¤”","ðŸ‘","â¤ï¸","ðŸ™","ðŸŽ‰","ðŸ”¥","â­","ðŸ’¡","â“"]),B=A(()=>JSON.parse(localStorage.getItem("libraryUsers")||"[]").filter(o=>o.id!==b.id&&(o.role==="employee"||o.role==="admin"))),L=A(()=>{if(!C.value)return u.value;const a=C.value.toLowerCase();return u.value.filter(o=>o.participant.name.toLowerCase().includes(a)||o.lastMessage.text.toLowerCase().includes(a))}),N=()=>{const a=`user_conversations_${b.id}`;u.value=JSON.parse(localStorage.getItem(a)||"[]")},k=()=>{const a=`user_conversations_${b.id}`;localStorage.setItem(a,JSON.stringify(u.value))},R=a=>{e.value=a,v.value=!1,a.unreadCount>0&&(a.unreadCount=0,a.messages.forEach(o=>{o.sender!==b.id&&(o.read=!0)}),k()),T(()=>{D(),g.value&&g.value.focus()})},V=()=>{if(!r.value.trim()||!e.value)return;const a={id:Date.now(),sender:b.id,text:r.value.trim(),timestamp:new Date().toISOString(),read:!1};e.value.messages.push(a),e.value.lastMessage=a,k(),r.value="",v.value=!1,g.value&&(g.value.style.height="auto"),T(()=>{D()})},z=()=>{if(!p.value||!s.value.trim())return;let a;if(p.value==="support")a={id:"support_team",name:"ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ",role:"employee",department:"Ø§Ù„Ø¯Ø¹Ù…"};else{const m=B.value.find(ee=>ee.id===p.value);if(!m)return;a=m}const o={id:Date.now(),sender:b.id,text:s.value.trim(),timestamp:new Date().toISOString(),read:!1},h={id:Date.now(),participant:a,messages:[o],lastMessage:o,unreadCount:0,online:!0};u.value.unshift(h),k(),S.value=!1,p.value="",s.value="",R(h)},D=()=>{x.value&&(x.value.scrollTop=x.value.scrollHeight)},O=()=>{g.value&&(g.value.style.height="auto",g.value.style.height=g.value.scrollHeight+"px")},P=()=>{v.value=!v.value},H=a=>{r.value+=a,v.value=!1,g.value&&g.value.focus()},J=()=>{N()},K=a=>{const o=new Date(a),m=new Date-o;return m<6e4?"Ø§Ù„Ø¢Ù†":m<36e5?`Ù…Ù†Ø° ${Math.floor(m/6e4)} Ø¯Ù‚ÙŠÙ‚Ø©`:m<864e5?o.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"}):m<6048e5?o.toLocaleDateString("ar-SA",{weekday:"long"}):o.toLocaleDateString("ar-SA",{year:"numeric",month:"short",day:"numeric"})},Q=a=>a?new Date(a).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"}):"ØºÙŠØ± Ù…Ø­Ø¯Ø¯",F=a=>new Date(a).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"}),q=a=>{if(a===0)return!0;const o=new Date(e.value.messages[a].timestamp),h=new Date(e.value.messages[a-1].timestamp);return o.toDateString()!==h.toDateString()},G=a=>a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2),W=a=>({admin:"bg-red-500",employee:"bg-blue-500",user:"bg-green-500"})[a]||"bg-gray-500",X=a=>({admin:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",employee:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",user:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"})[a]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",Y=a=>({admin:"Ù…Ø¯ÙŠØ±",employee:"Ù…ÙˆØ¸Ù",user:"Ù…Ø³ØªÙÙŠØ¯"})[a]||a,Z=()=>{e.value&&(e.value.unreadCount=0,e.value.messages.forEach(a=>{a.sender!==b.id&&(a.read=!0)}),k())},$=()=>{e.value&&confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©ØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.")&&(u.value=u.value.filter(a=>a.id!==e.value.id),k(),e.value=null)};return re(()=>{N()}),{conversations:u,selectedConversation:e,searchQuery:C,newMessage:r,showNewMessageModal:S,showEmojiPicker:v,newMessageRecipient:p,newMessageText:s,messagesContainer:x,messageInput:g,currentUser:b,emojis:E,availableEmployees:B,filteredConversations:L,selectConversation:R,sendMessage:V,createNewConversation:z,formatDate:K,formatMessageDate:Q,formatMessageTime:F,showDateSeparator:q,getInitials:G,getUserColor:W,getRoleBadgeClass:X,getUserRole:Y,markConversationAsRead:Z,deleteConversation:$,toggleEmojiPicker:P,addEmoji:H,refreshConversations:J,autoResize:O,scrollToBottom:D}}},le={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},ie={class:"container mx-auto px-4 py-8"},de={class:"max-w-7xl mx-auto"},ge={class:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-8"},ce={class:"flex flex-wrap gap-3"},xe={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},ue={class:"grid grid-cols-1 lg:grid-cols-4 min-h-[600px]"},be={class:"lg:col-span-1 border-l border-gray-200 dark:border-gray-700 flex flex-col"},ye={class:"p-4 border-b border-gray-200 dark:border-gray-700"},me={class:"relative"},fe={class:"flex-1 overflow-y-auto"},ve={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},pe=["onClick"],we={class:"flex items-start gap-3"},ke={class:"relative flex-shrink-0"},he={class:"flex-1 min-w-0"},Ce={class:"flex justify-between items-start mb-1"},_e={class:"flex items-center gap-2"},Me={class:"font-semibold text-gray-800 dark:text-white truncate text-sm"},Se={class:"text-xs text-gray-500 whitespace-nowrap"},De={class:"text-sm text-gray-600 dark:text-gray-300 truncate mb-2 leading-relaxed"},je={class:"flex justify-between items-center"},Ue={key:1},Be={key:2,class:"bg-[#1B3C53] text-white text-xs px-2 py-1 rounded-full min-w-5 h-5 flex items-center justify-center"},Ne={class:"lg:col-span-3 flex flex-col"},Re={class:"p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex justify-between items-center"},Ae={class:"flex items-center gap-3"},Ie={class:"relative"},Te={class:"flex items-center gap-2"},Ee={class:"font-semibold text-gray-800 dark:text-white"},Le={class:"flex items-center gap-2"},Ve={ref:"messagesContainer",class:"flex-1 p-6 space-y-4 overflow-y-auto bg-gray-50 dark:bg-gray-900"},ze={key:0,class:"text-center py-4"},Oe={key:0,class:"flex justify-center my-6"},Pe={class:"bg-white dark:bg-gray-800 text-gray-500 text-sm px-4 py-2 rounded-full border border-gray-200 dark:border-gray-700"},He={class:"text-sm leading-relaxed mb-2"},Je={class:"flex justify-end items-center gap-2"},Ke={class:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"},Qe={class:"flex-1 relative"},Fe={key:0,class:"absolute bottom-full left-0 mb-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-xl p-3 w-64 h-40 overflow-y-auto"},qe={class:"grid grid-cols-8 gap-1"},Ge=["onClick"],We=["disabled"],Xe={key:1,class:"flex-1 flex flex-col items-center justify-center text-center p-8 bg-gray-50 dark:bg-gray-900"},Ye={class:"max-w-md"},Ze={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},$e={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md"},et={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},tt={class:"p-6"},rt={class:"mb-4"},st={label:"Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†"},at=["value"],ot={class:"mb-4"},nt={class:"text-sm text-gray-500 text-left"},lt={class:"flex justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700"},it=["disabled"];function dt(u,e,C,r,S,v){const p=se("AppHeader");return n(),l("div",le,[ae(p),t("div",ie,[t("div",de,[t("div",ge,[e[20]||(e[20]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-800 dark:text-white mb-2"}," ðŸ’¬ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª "),t("p",{class:"text-gray-600 dark:text-gray-400"}," ØªÙˆØ§ØµÙ„ Ù…Ø¹ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ")],-1)),t("div",ce,[t("button",{onClick:e[0]||(e[0]=(...s)=>r.refreshConversations&&r.refreshConversations(...s)),class:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[...e[18]||(e[18]=[t("span",{class:"material-icons text-sm"},"refresh",-1),f(" ØªØ­Ø¯ÙŠØ« ",-1)])]),t("button",{onClick:e[1]||(e[1]=s=>r.showNewMessageModal=!0),class:"flex items-center gap-2 px-4 py-2 bg-[#1B3C53] text-white rounded-xl hover:bg-[#234C6A] transition-colors"},[...e[19]||(e[19]=[t("span",{class:"material-icons text-sm"},"add",-1),f(" Ù…Ø­Ø§Ø¯Ø«Ø© Ø¬Ø¯ÙŠØ¯Ø© ",-1)])])])]),t("div",xe,[t("div",ue,[t("div",be,[t("div",ye,[t("div",me,[_(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>r.searchQuery=s),type:"text",placeholder:"Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª...",class:"w-full pl-10 pr-4 py-3 bg-gray-100 dark:bg-gray-700 rounded-xl text-gray-800 dark:text-white focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent"},null,512),[[j,r.searchQuery]]),e[21]||(e[21]=t("span",{class:"material-icons absolute right-3 top-3 text-gray-400 text-sm"}," search ",-1))])]),t("div",fe,[r.filteredConversations.length===0?(n(),l("div",ve,[e[22]||(e[22]=t("span",{class:"material-icons text-4xl mb-3 text-gray-300"},"inbox",-1)),e[23]||(e[23]=t("p",{class:"mb-2"},"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ø§Ø¯Ø«Ø§Øª",-1)),t("button",{onClick:e[3]||(e[3]=s=>r.showNewMessageModal=!0),class:"text-[#1B3C53] dark:text-blue-400 hover:underline text-sm"}," Ø§Ø¨Ø¯Ø£ Ù…Ø­Ø§Ø¯Ø«Ø© Ø¬Ø¯ÙŠØ¯Ø© ")])):y("",!0),(n(!0),l(w,null,M(r.filteredConversations,s=>{var x,g;return n(),l("div",{key:s.id,onClick:b=>r.selectConversation(s),class:d(["p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-all duration-200",{"bg-blue-50 dark:bg-blue-900/20 border-r-4 border-r-[#1B3C53]":((x=r.selectedConversation)==null?void 0:x.id)===s.id,"hover:bg-gray-50 dark:hover:bg-gray-700":((g=r.selectedConversation)==null?void 0:g.id)!==s.id}])},[t("div",we,[t("div",ke,[t("div",{class:d(["w-12 h-12 rounded-full flex items-center justify-center text-white text-sm font-semibold shadow-lg",r.getUserColor(s.participant.role)])},i(r.getInitials(s.participant.name)),3),t("span",{class:d(["absolute -bottom-0.5 -right-0.5 w-3 h-3 border-2 border-white dark:border-gray-800 rounded-full",s.online?"bg-green-500":"bg-gray-400"])},null,2)]),t("div",he,[t("div",Ce,[t("div",_e,[t("h3",Me,i(s.participant.name),1),t("span",{class:d(["text-xs px-2 py-1 rounded-full",r.getRoleBadgeClass(s.participant.role)])},i(r.getUserRole(s.participant.role)),3)]),t("span",Se,i(r.formatDate(s.lastMessage.timestamp)),1)]),t("p",De,i(s.lastMessage.text),1),t("div",je,[s.lastMessage.sender===r.currentUser.id?(n(),l("span",{key:0,class:d(["text-xs flex items-center gap-1",s.lastMessage.read?"text-green-500":"text-gray-400"])},[e[24]||(e[24]=t("span",{class:"material-icons text-xs"},"done_all",-1)),f(" "+i(s.lastMessage.read?"ØªÙ… Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©":"ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„"),1)],2)):(n(),l("span",Ue)),s.unreadCount>0?(n(),l("span",Be,i(s.unreadCount),1)):y("",!0)])])])],10,pe)}),128))])]),t("div",Ne,[r.selectedConversation?(n(),l(w,{key:0},[t("div",Re,[t("div",Ae,[t("div",Ie,[t("div",{class:d(["w-12 h-12 rounded-full flex items-center justify-center text-white text-sm font-semibold shadow-lg",r.getUserColor(r.selectedConversation.participant.role)])},i(r.getInitials(r.selectedConversation.participant.name)),3),t("span",{class:d(["absolute -bottom-0.5 -right-0.5 w-3 h-3 border-2 border-white dark:border-gray-800 rounded-full",r.selectedConversation.online?"bg-green-500":"bg-gray-400"])},null,2)]),t("div",null,[t("div",Te,[t("h3",Ee,i(r.selectedConversation.participant.name),1),t("span",{class:d(["text-xs px-2 py-1 rounded-full",r.getRoleBadgeClass(r.selectedConversation.participant.role)])},i(r.getUserRole(r.selectedConversation.participant.role)),3)]),t("p",{class:d(["text-sm flex items-center gap-1",r.selectedConversation.online?"text-green-500":"text-gray-500"])},[t("span",{class:d(["w-2 h-2 rounded-full",r.selectedConversation.online?"bg-green-500":"bg-gray-400"])},null,2),f(" "+i(r.selectedConversation.online?"Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†":"ØºÙŠØ± Ù…ØªØµÙ„"),1)],2)])]),t("div",Le,[r.selectedConversation.unreadCount?(n(),l("button",{key:0,onClick:e[4]||(e[4]=(...s)=>r.markConversationAsRead&&r.markConversationAsRead(...s)),class:"p-2 text-gray-400 hover:text-green-500 transition-colors",title:"ØªØ¹Ù„ÙŠÙ… ÙƒÙ…Ù‚Ø±ÙˆØ¡"},[...e[25]||(e[25]=[t("span",{class:"material-icons"},"mark_email_read",-1)])])):y("",!0),t("button",{onClick:e[5]||(e[5]=(...s)=>r.deleteConversation&&r.deleteConversation(...s)),class:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Ø­Ø°Ù Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©"},[...e[26]||(e[26]=[t("span",{class:"material-icons"},"delete",-1)])])])]),t("div",Ve,[r.selectedConversation.messages.length>0?(n(),l("div",ze,[...e[27]||(e[27]=[t("span",{class:"text-sm text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 px-4 py-2 rounded-full border border-gray-200 dark:border-gray-700"}," Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© ",-1)])])):y("",!0),(n(!0),l(w,null,M(r.selectedConversation.messages,(s,x)=>(n(),l(w,{key:s.id},[r.showDateSeparator(x)?(n(),l("div",Oe,[t("span",Pe,i(r.formatMessageDate(s.timestamp)),1)])):y("",!0),t("div",{class:d(["flex gap-3 group",s.sender===r.currentUser.id?"justify-end":"justify-start"])},[s.sender!==r.currentUser.id?(n(),l("div",{key:0,class:d(["w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-semibold flex-shrink-0",r.getUserColor(r.selectedConversation.participant.role)])},i(r.getInitials(r.selectedConversation.participant.name)),3)):y("",!0),t("div",{class:d(["max-w-[70%] p-4 rounded-2xl relative transition-all duration-200 group-hover:shadow-lg",[s.sender===r.currentUser.id?"bg-[#1B3C53] text-white rounded-br-none":"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-bl-none"]])},[t("p",He,i(s.text),1),t("div",Je,[t("span",{class:d(["text-xs",s.sender===r.currentUser.id?"text-blue-200":"text-gray-500 dark:text-gray-400"])},i(r.formatMessageTime(s.timestamp)),3),s.sender===r.currentUser.id?(n(),l("span",{key:0,class:d(["flex items-center gap-1 text-xs",s.read?"text-green-300":"text-blue-200"])},[e[28]||(e[28]=t("span",{class:"material-icons text-xs"},"done_all",-1)),f(" "+i(s.read?"ØªÙ… Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©":"ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„"),1)],2)):y("",!0)]),t("div",{class:d(["absolute w-3 h-3 transform rotate-45",[s.sender===r.currentUser.id?"bg-[#1B3C53] -right-1 top-0":"bg-white dark:bg-gray-800 border-l border-b border-gray-200 dark:border-gray-700 -left-1 top-0"]])},null,2)],2)],2)],64))),128))],512),t("div",Ke,[t("form",{onSubmit:e[11]||(e[11]=U((...s)=>r.sendMessage&&r.sendMessage(...s),["prevent"])),class:"flex gap-3"},[t("button",{type:"button",onClick:e[6]||(e[6]=(...s)=>r.toggleEmojiPicker&&r.toggleEmojiPicker(...s)),class:"p-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},[...e[29]||(e[29]=[t("span",{class:"material-icons"},"mood",-1)])]),t("div",Qe,[_(t("textarea",{ref:"messageInput","onUpdate:modelValue":e[7]||(e[7]=s=>r.newMessage=s),onKeydown:[e[8]||(e[8]=I(U((...s)=>r.sendMessage&&r.sendMessage(...s),["exact","prevent"]),["enter"])),e[9]||(e[9]=I(U(s=>r.newMessage+=`
`,["shift","exact","prevent"]),["enter"]))],placeholder:"Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§...",rows:"1",class:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 rounded-xl text-gray-800 dark:text-white resize-none max-h-32 focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent",onInput:e[10]||(e[10]=(...s)=>r.autoResize&&r.autoResize(...s))},null,544),[[j,r.newMessage]]),r.showEmojiPicker?(n(),l("div",Fe,[t("div",qe,[(n(!0),l(w,null,M(r.emojis,s=>(n(),l("button",{key:s,onClick:x=>r.addEmoji(s),class:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-lg"},i(s),9,Ge))),128))])])):y("",!0)]),t("button",{type:"submit",disabled:!r.newMessage.trim(),class:"px-6 py-3 bg-[#1B3C53] text-white rounded-xl hover:bg-[#234C6A] disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2"},[...e[30]||(e[30]=[t("span",{class:"material-icons text-sm"},"send",-1),f(" Ø¥Ø±Ø³Ø§Ù„ ",-1)])],8,We)],32)])],64)):(n(),l("div",Xe,[t("div",Ye,[e[32]||(e[32]=t("span",{class:"material-icons text-6xl text-gray-300 dark:text-gray-600 mb-4"}," chat_bubble_outline ",-1)),e[33]||(e[33]=t("h3",{class:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2"}," Ù…Ø±Ø­Ø¨Ø§Ù‹ ÙÙŠ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª ",-1)),e[34]||(e[34]=t("p",{class:"text-gray-500 dark:text-gray-500 mb-6"}," Ø§Ø®ØªØ± Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø£Ùˆ Ø§Ø¨Ø¯Ø£ Ù…Ø­Ø§Ø¯Ø«Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø¹ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù… Ø£Ùˆ Ø£ÙŠ Ù…ÙˆØ¸Ù. ",-1)),t("button",{onClick:e[12]||(e[12]=s=>r.showNewMessageModal=!0),class:"px-6 py-3 bg-[#1B3C53] text-white rounded-xl hover:bg-[#234C6A] transition-colors flex items-center gap-2 mx-auto"},[...e[31]||(e[31]=[t("span",{class:"material-icons text-sm"},"add",-1),f(" Ø¨Ø¯Ø¡ Ù…Ø­Ø§Ø¯Ø«Ø© Ø¬Ø¯ÙŠØ¯Ø© ",-1)])])])]))])])])])]),r.showNewMessageModal?(n(),l("div",Ze,[t("div",$e,[t("div",et,[e[36]||(e[36]=t("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white"}," Ø¨Ø¯Ø¡ Ù…Ø­Ø§Ø¯Ø«Ø© Ø¬Ø¯ÙŠØ¯Ø© ",-1)),t("button",{onClick:e[13]||(e[13]=s=>r.showNewMessageModal=!1),class:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...e[35]||(e[35]=[t("span",{class:"material-icons"},"close",-1)])])]),t("div",tt,[t("div",rt,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 text-right"}," Ø§Ø®ØªØ± Ø§Ù„Ø´Ø®Øµ ",-1)),_(t("select",{"onUpdate:modelValue":e[14]||(e[14]=s=>r.newMessageRecipient=s),class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent"},[e[37]||(e[37]=t("option",{value:""},"Ø§Ø®ØªØ± Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø©",-1)),e[38]||(e[38]=t("optgroup",{label:"ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù…"},[t("option",{value:"support"},"Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ")],-1)),t("optgroup",st,[(n(!0),l(w,null,M(r.availableEmployees,s=>(n(),l("option",{key:s.id,value:s.id},i(s.name)+" ("+i(s.department||"Ù…ÙˆØ¸Ù")+") ",9,at))),128))])],512),[[oe,r.newMessageRecipient]])]),t("div",ot,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 text-right"}," Ø§Ù„Ø±Ø³Ø§Ù„Ø© ",-1)),_(t("textarea",{"onUpdate:modelValue":e[15]||(e[15]=s=>r.newMessageText=s),rows:"4",class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-800 dark:text-white resize-none focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent",placeholder:"Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§..."},null,512),[[j,r.newMessageText]])]),t("div",nt,i(r.newMessageText.length)+"/500 ",1)]),t("div",lt,[t("button",{onClick:e[16]||(e[16]=s=>r.showNewMessageModal=!1),class:"px-6 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors"}," Ø¥Ù„ØºØ§Ø¡ "),t("button",{onClick:e[17]||(e[17]=(...s)=>r.createNewConversation&&r.createNewConversation(...s)),disabled:!r.newMessageRecipient||!r.newMessageText.trim(),class:"px-6 py-2 bg-[#1B3C53] text-white rounded-xl hover:bg-[#234C6A] disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2"},[...e[41]||(e[41]=[t("span",{class:"material-icons text-sm"},"send",-1),f(" Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© ",-1)])],8,it)])])])):y("",!0)])}const ct=te(ne,[["render",dt],["__scopeId","data-v-97a94259"]]);export{ct as default};
