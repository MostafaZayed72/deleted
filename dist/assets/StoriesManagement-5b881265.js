import{_ as rt,u as at,r as S,c as u,o as st,z as ot,a as N,b as d,d as l,e as V,f as t,t as i,F as B,l as j,w as v,v as nt,m as y,g as D,h,j as x,S as it,n as O,k as dt}from"./index-85c8a86e.js";const lt={name:"AdminStoriesManagement",setup(){const E=at(),e=S([]),C=S([]),o=S("all"),c=S({search:"",type:"",category:"",age_group:"",publication_year:"",sort:"newest",added_by:""}),A=()=>{window.addEventListener("storiesUpdated",b),window.addEventListener("interactionsUpdated",b)},b=()=>{try{console.log("ğŸ”„ [Ø§Ù„Ù…Ø¯ÙŠØ±] Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...");const r=localStorage.getItem("libraryStories");if(r){const n=JSON.parse(r);e.value=n.map(g=>({...g,stats:it.getStoryStatistics(g.id)})),console.log("âœ… [Ø§Ù„Ù…Ø¯ÙŠØ±] Ø¹Ø¯Ø¯ Ø§Ù„Ù‚ØµØµ Ø§Ù„Ù…Ø­Ù…Ù„Ø©:",e.value.length)}else e.value=[],console.log("âš ï¸ [Ø§Ù„Ù…Ø¯ÙŠØ±] Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚ØµØµ ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ");const a=localStorage.getItem("libraryEmployees")||"[]";C.value=JSON.parse(a)}catch(r){console.error("âŒ [Ø§Ù„Ù…Ø¯ÙŠØ±] Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:",r),e.value=[],C.value=[]}},T=()=>{E.push("/admin/stories/new")},f=u(()=>[{id:"all",name:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª",icon:"dashboard",count:k.value},{id:"pending",name:"Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©",icon:"pending",count:s.value},{id:"published",name:"Ù…Ù†Ø´ÙˆØ±",icon:"check_circle",count:m.value},{id:"draft",name:"Ù…Ø³ÙˆØ¯Ø©",icon:"draft",count:w.value},{id:"rejected",name:"Ù…Ø±ÙÙˆØ¶",icon:"cancel",count:_.value},{id:"needs_revision",name:"ÙŠØ­ØªØ§Ø¬ ØªØ¹Ø¯ÙŠÙ„",icon:"edit_note",count:p.value},{id:"archived",name:"Ù…Ø¤Ø±Ø´Ù",icon:"archive",count:I.value}]),k=u(()=>e.value.length),s=u(()=>e.value.filter(r=>r.status==="pending_review").length),m=u(()=>e.value.filter(r=>r.status==="published").length),w=u(()=>e.value.filter(r=>r.status==="draft").length),_=u(()=>e.value.filter(r=>r.status==="rejected").length),p=u(()=>e.value.filter(r=>r.status==="needs_revision").length),I=u(()=>e.value.filter(r=>r.status==="archived").length),R=u(()=>e.value.length===0?{stats:{views:0}}:e.value.reduce((r,a)=>{var n,g;return(((n=a.stats)==null?void 0:n.views)||0)>(((g=r.stats)==null?void 0:g.views)||0)?a:r},{stats:{views:0}})),F=u(()=>{if(e.value.length===0)return 0;const r=e.value.map(n=>parseFloat(n.rating||0)).filter(n=>!isNaN(n)&&n>0);return r.length===0?0:r.reduce((n,g)=>n+g,0)/r.length}),M=u(()=>{const r=new Set(e.value.map(a=>a.publication_year).filter(a=>a));return Array.from(r).sort((a,n)=>n-a)}),U=u(()=>{let r=e.value;switch(o.value){case"pending":r=r.filter(a=>a.status==="pending_review");break;case"published":r=r.filter(a=>a.status==="published");break;case"draft":r=r.filter(a=>a.status==="draft");break;case"rejected":r=r.filter(a=>a.status==="rejected");break;case"needs_revision":r=r.filter(a=>a.status==="needs_revision");break;case"archived":r=r.filter(a=>a.status==="archived");break}if(c.value.search){const a=c.value.search.toLowerCase();r=r.filter(n=>n.title&&n.title.toLowerCase().includes(a)||n.summary&&n.summary.toLowerCase().includes(a)||n.author&&n.author.toLowerCase().includes(a)||n.vessel_number&&n.vessel_number.toLowerCase().includes(a)||n.added_by&&n.added_by.toLowerCase().includes(a))}switch(c.value.type&&(r=r.filter(a=>a.story_type===c.value.type)),c.value.category&&(r=r.filter(a=>a.category===c.value.category)),c.value.age_group&&(r=r.filter(a=>a.age_group===c.value.age_group)),c.value.publication_year&&(r=r.filter(a=>a.publication_year==c.value.publication_year)),c.value.added_by&&(r=r.filter(a=>a.added_by===c.value.added_by)),c.value.sort){case"newest":r.sort((a,n)=>new Date(n.created_at||0)-new Date(a.created_at||0));break;case"oldest":r.sort((a,n)=>new Date(a.created_at||0)-new Date(n.created_at||0));break;case"views":r.sort((a,n)=>{var g,L;return(((g=n.stats)==null?void 0:g.views)||0)-(((L=a.stats)==null?void 0:L.views)||0)});break;case"rating":r.sort((a,n)=>(n.rating||0)-(a.rating||0));break;case"title":r.sort((a,n)=>(a.title||"").localeCompare(n.title||""));break}return r}),J=r=>({image:"image",video:"play_circle",audio:"music_note",pdf:"picture_as_pdf",document:"description",interactive:"interactive"})[r]||"description",q=r=>({image:"ØµÙˆØ±Ø©",video:"ÙÙŠØ¯ÙŠÙˆ",audio:"ØµÙˆØª",pdf:"PDF",document:"Ù…Ø³ØªÙ†Ø¯ Ù†ØµÙŠ",interactive:"ØªÙØ§Ø¹Ù„ÙŠ"})[r]||r,z=r=>({published:"Ù…Ù†Ø´ÙˆØ±",pending_review:"Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©",draft:"Ù…Ø³ÙˆØ¯Ø©",rejected:"Ù…Ø±ÙÙˆØ¶",needs_revision:"ÙŠØ­ØªØ§Ø¬ ØªØ¹Ø¯ÙŠÙ„",archived:"Ù…Ø¤Ø±Ø´Ù"})[r]||r,H=r=>({published:"check_circle",pending_review:"pending",draft:"draft",rejected:"cancel",needs_revision:"edit_note",archived:"archive"})[r]||"draft",P=r=>{const a={published:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",pending_review:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300",draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",rejected:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",needs_revision:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",archived:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"};return a[r]||a.draft},Y=r=>{if(!r)return"ØºÙŠØ± Ù…Ø­Ø¯Ø¯";try{return new Date(r).toLocaleDateString("ar-EG")}catch{return"ØªØ§Ø±ÙŠØ® ØºÙŠØ± ØµØ­ÙŠØ­"}},G=()=>{const r=f.value.find(a=>a.id===o.value);return r?r.name:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª"},K=r=>{console.log("ğŸ‘ï¸ [Ø§Ù„Ù…Ø¯ÙŠØ±] Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù‚ØµØ©:",r),window.open(`/story/${r.id}`,"_blank")},Q=r=>{if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ù†Ø´Ø± Ù‡Ø°Ø§ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ØŸ"))try{r.status="published",r.published_at=new Date().toISOString(),r.reviewed_by="Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…",localStorage.setItem("libraryStories",JSON.stringify(e.value)),window.dispatchEvent(new CustomEvent("storiesUpdated")),alert("âœ… ØªÙ… Ù†Ø´Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ù†Ø¬Ø§Ø­")}catch(a){console.error("âŒ [Ø§Ù„Ù…Ø¯ÙŠØ±] Ø®Ø·Ø£ ÙÙŠ Ù†Ø´Ø± Ø§Ù„Ù‚ØµØ©:",a),alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù†Ø´Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰")}},W=r=>{const a=prompt("Ø£Ø¯Ø®Ù„ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:");if(a)try{r.status="needs_revision",r.review_notes=a,r.reviewed_by="Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…",localStorage.setItem("libraryStories",JSON.stringify(e.value)),window.dispatchEvent(new CustomEvent("storiesUpdated")),alert("âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­")}catch(n){console.error("âŒ [Ø§Ù„Ù…Ø¯ÙŠØ±] Ø®Ø·Ø£ ÙÙŠ Ø·Ù„Ø¨ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„:",n),alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„")}},X=r=>{const a=prompt("Ø£Ø¯Ø®Ù„ Ø³Ø¨Ø¨ Ø§Ù„Ø±ÙØ¶:");if(a)try{r.status="rejected",r.review_notes=a,r.reviewed_by="Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…",localStorage.setItem("libraryStories",JSON.stringify(e.value)),window.dispatchEvent(new CustomEvent("storiesUpdated")),alert("âœ… ØªÙ… Ø±ÙØ¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ù†Ø¬Ø§Ø­")}catch(n){console.error("âŒ [Ø§Ù„Ù…Ø¯ÙŠØ±] Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¶ Ø§Ù„Ù‚ØµØ©:",n),alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø±ÙØ¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰")}},Z=r=>{if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø£Ø±Ø´ÙØ© Ù‡Ø°Ø§ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ØŸ"))try{r.status="archived",localStorage.setItem("libraryStories",JSON.stringify(e.value)),window.dispatchEvent(new CustomEvent("storiesUpdated")),alert("âœ… ØªÙ… Ø£Ø±Ø´ÙØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ù†Ø¬Ø§Ø­")}catch(a){console.error("âŒ [Ø§Ù„Ù…Ø¯ÙŠØ±] Ø®Ø·Ø£ ÙÙŠ Ø£Ø±Ø´ÙØ© Ø§Ù„Ù‚ØµØ©:",a),alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø£Ø±Ø´ÙØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰")}},$=r=>{if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ØŸ"))try{const a=e.value.findIndex(n=>n.id===r.id);a!==-1&&(e.value.splice(a,1),localStorage.setItem("libraryStories",JSON.stringify(e.value)),window.dispatchEvent(new CustomEvent("storiesUpdated")),alert("âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ù†Ø¬Ø§Ø­"))}catch(a){console.error("âŒ [Ø§Ù„Ù…Ø¯ÙŠØ±] Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù‚ØµØ©:",a),alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„Ù…Ø­ØªÙˆÙ‰")}},tt=()=>{c.value={search:"",type:"",category:"",age_group:"",publication_year:"",sort:"newest",added_by:""}},et=()=>{try{const r={stories:U.value,exportDate:new Date().toISOString(),totalCount:U.value.length},a=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),n=URL.createObjectURL(a),g=document.createElement("a");g.href=n,g.download=`library-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(n),alert("âœ… ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­")}catch(r){console.error("âŒ [Ø§Ù„Ù…Ø¯ÙŠØ±] Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:",r),alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª")}};return st(()=>{console.log("ğŸš€ [Ø§Ù„Ù…Ø¯ÙŠØ±] ØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…ÙƒÙˆÙ† Ø¥Ø¯Ø§Ø±Ø© Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø¯ÙŠØ±"),b(),A(),ot(()=>{window.removeEventListener("storiesUpdated",b),window.removeEventListener("interactionsUpdated",b)})}),{stories:e,employees:C,activeTab:o,contentTabs:f,filters:c,totalStories:k,pendingReviewStories:s,publishedStories:m,draftStories:w,rejectedStories:_,needsRevisionStories:p,archivedStories:I,mostViewedStory:R,averageRating:F,publicationYears:M,filteredStories:U,getTypeIcon:J,getTypeText:q,getStatusText:z,getStatusIcon:H,getStatusClass:P,formatDate:Y,getActiveTabTitle:G,previewStory:K,approveStory:Q,requestRevision:W,rejectStory:X,archiveStory:Z,deleteStory:$,resetFilters:tt,exportData:et,navigateToAddStory:T}}},ct={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},gt={class:"container mx-auto px-4 py-8"},ut={class:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8"},pt={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},xt={class:"flex items-center justify-between"},bt={class:"text-2xl font-bold text-[#1B3C53] dark:text-blue-400"},vt={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},mt={class:"flex items-center justify-between"},yt={class:"text-2xl font-bold text-amber-600 dark:text-amber-400"},ft={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},kt={class:"flex items-center justify-between"},wt={class:"text-2xl font-bold text-green-600 dark:text-green-400"},_t={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},ht={class:"flex items-center justify-between"},Ct={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},St={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6"},Bt={class:"flex items-center justify-between"},jt={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400"},Tt={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-4 mb-6"},Ut={class:"flex flex-wrap items-center gap-2"},Dt=["onClick"],Et={class:"material-icons text-base"},At={key:0,class:"bg-white/20 text-white text-xs px-2 py-1 rounded-full"},It={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 mb-6"},Lt={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4"},Nt={class:"relative"},Vt={class:"relative"},Ot={class:"relative"},Rt={class:"relative"},Ft={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Mt={class:"relative"},Jt=["value"],qt={class:"relative"},zt={class:"relative"},Ht=["value"],Pt={class:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200 dark:border-gray-600"},Yt={class:"text-sm text-[#456882] dark:text-gray-400"},Gt={class:"flex items-center gap-4"},Kt={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden"},Qt={class:"p-6 border-b border-gray-200 dark:border-gray-600"},Wt={class:"flex items-center justify-between"},Xt={class:"text-lg font-bold text-[#1B3C53] dark:text-white"},Zt={class:"overflow-x-auto"},$t={class:"w-full"},te={class:"py-4 px-6"},ee={class:"flex items-center gap-4"},re={class:"w-12 h-12 bg-gradient-to-br from-[#1B3C53] to-[#234C6A] rounded-xl flex items-center justify-center text-white text-lg"},ae={class:"material-icons"},se={class:"flex-1 min-w-0"},oe={class:"font-medium text-[#1B3C53] dark:text-white mb-1 truncate"},ne={class:"text-sm text-[#456882] dark:text-gray-400 line-clamp-2 mb-2"},ie={class:"flex items-center gap-2"},de={class:"text-xs bg-gray-100 dark:bg-gray-600 text-[#456882] dark:text-gray-300 px-2 py-1 rounded"},le={class:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 px-2 py-1 rounded"},ce={class:"py-4 px-6"},ge={class:"space-y-2 text-sm"},ue={class:"flex items-center gap-2"},pe={class:"text-[#456882] dark:text-gray-400"},xe={class:"flex items-center gap-2"},be={class:"text-[#456882] dark:text-gray-400"},ve={class:"flex items-center gap-2"},me={class:"text-[#456882] dark:text-gray-400"},ye={class:"py-4 px-6"},fe={class:"space-y-2"},ke={class:"material-icons text-xs mr-1"},we={key:0,class:"text-xs text-[#456882] dark:text-gray-400 bg-gray-50 dark:bg-gray-600 p-2 rounded-lg"},_e={key:1,class:"text-xs text-[#456882] dark:text-gray-400"},he={class:"py-4 px-6"},Ce={class:"space-y-2 text-sm"},Se={class:"flex items-center gap-2"},Be={class:"text-[#456882] dark:text-gray-400"},je={class:"flex items-center gap-2"},Te={class:"text-[#456882] dark:text-gray-400"},Ue={class:"flex items-center gap-2"},De={class:"text-[#456882] dark:text-gray-400"},Ee={class:"py-4 px-6"},Ae={class:"space-y-1 text-sm"},Ie={class:"text-[#456882] dark:text-gray-400"},Le={class:"text-[#456882] dark:text-gray-400 text-xs"},Ne={class:"py-4 px-6"},Ve={class:"flex items-center gap-1 justify-end"},Oe=["onClick"],Re=["onClick"],Fe=["onClick"],Me=["onClick"],Je=["onClick"],qe=["onClick"],ze={key:0,class:"text-center py-12"};function He(E,e,C,o,c,A){var f,k;const b=N("AppHeader"),T=N("router-link");return d(),l("div",ct,[V(b),t("main",gt,[e[62]||(e[62]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-3xl font-bold text-[#1B3C53] dark:text-white mb-3"}," Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ "),t("p",{class:"text-lg text-[#456882] dark:text-gray-300"}," Ø¥Ø¯Ø§Ø±Ø© ÙˆØ¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª ÙÙŠ Ø§Ù„Ù…ÙƒØªØ¨Ø© ")],-1)),t("div",ut,[t("div",pt,[t("div",xt,[t("div",null,[e[11]||(e[11]=t("p",{class:"text-sm text-[#456882] dark:text-gray-400"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø­ØªÙˆÙ‰",-1)),t("p",bt,i(o.totalStories),1)]),e[12]||(e[12]=t("div",{class:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-xl flex items-center justify-center"},[t("span",{class:"material-icons text-blue-600 dark:text-blue-400"},"library_books")],-1))])]),t("div",vt,[t("div",mt,[t("div",null,[e[13]||(e[13]=t("p",{class:"text-sm text-[#456882] dark:text-gray-400"},"Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©",-1)),t("p",yt,i(o.pendingReviewStories),1)]),e[14]||(e[14]=t("div",{class:"w-12 h-12 bg-amber-100 dark:bg-amber-900 rounded-xl flex items-center justify-center"},[t("span",{class:"material-icons text-amber-600 dark:text-amber-400"},"pending")],-1))])]),t("div",ft,[t("div",kt,[t("div",null,[e[15]||(e[15]=t("p",{class:"text-sm text-[#456882] dark:text-gray-400"},"Ù…Ù†Ø´ÙˆØ±",-1)),t("p",wt,i(o.publishedStories),1)]),e[16]||(e[16]=t("div",{class:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-xl flex items-center justify-center"},[t("span",{class:"material-icons text-green-600 dark:text-green-400"},"check_circle")],-1))])]),t("div",_t,[t("div",ht,[t("div",null,[e[17]||(e[17]=t("p",{class:"text-sm text-[#456882] dark:text-gray-400"},"Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø´Ø§Ù‡Ø¯Ø©",-1)),t("p",Ct,i(((k=(f=o.mostViewedStory)==null?void 0:f.stats)==null?void 0:k.views)||0),1)]),e[18]||(e[18]=t("div",{class:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-xl flex items-center justify-center"},[t("span",{class:"material-icons text-purple-600 dark:text-purple-400"},"visibility")],-1))])]),t("div",St,[t("div",Bt,[t("div",null,[e[19]||(e[19]=t("p",{class:"text-sm text-[#456882] dark:text-gray-400"},"Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙ‚ÙŠÙŠÙ…",-1)),t("p",jt,i(o.averageRating.toFixed(1)),1)]),e[20]||(e[20]=t("div",{class:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900 rounded-xl flex items-center justify-center"},[t("span",{class:"material-icons text-yellow-600 dark:text-yellow-400"},"star")],-1))])])]),t("div",Tt,[t("div",Ut,[(d(!0),l(B,null,j(o.contentTabs,s=>(d(),l("button",{key:s.id,onClick:m=>o.activeTab=s.id,class:O(["flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-200 font-medium text-sm min-w-[120px] justify-center",o.activeTab===s.id?"bg-[#1B3C53] text-white shadow-sm":"text-[#456882] dark:text-gray-400 hover:text-[#1B3C53] dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700"])},[t("span",Et,i(s.icon),1),t("span",null,i(s.name),1),s.count?(d(),l("span",At,i(s.count),1)):x("",!0)],10,Dt))),128))])]),t("div",It,[t("div",Lt,[t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-[#1B3C53] dark:text-gray-300 mb-2"},"Ø¨Ø­Ø«",-1)),t("div",Nt,[e[21]||(e[21]=t("span",{class:"material-icons absolute right-3 top-1/2 transform -translate-y-1/2 text-[#456882] dark:text-gray-400"},"search",-1)),v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.filters.search=s),type:"text",placeholder:"Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ø­ØªÙˆÙ‰...",class:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-white"},null,512),[[nt,o.filters.search]])])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-[#1B3C53] dark:text-gray-300 mb-2"},"Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù",-1)),t("div",Vt,[e[24]||(e[24]=t("span",{class:"material-icons absolute right-3 top-1/2 transform -translate-y-1/2 text-[#456882] dark:text-gray-400"},"category",-1)),v(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.filters.type=s),class:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-white appearance-none"},[...e[23]||(e[23]=[D('<option value="" data-v-4bfc91d2>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹</option><option value="image" data-v-4bfc91d2>ØµÙˆØ±Ø©</option><option value="video" data-v-4bfc91d2>ÙÙŠØ¯ÙŠÙˆ</option><option value="audio" data-v-4bfc91d2>ØµÙˆØª</option><option value="pdf" data-v-4bfc91d2>PDF</option><option value="document" data-v-4bfc91d2>Ù…Ø³ØªÙ†Ø¯ Ù†ØµÙŠ</option><option value="interactive" data-v-4bfc91d2>ØªÙØ§Ø¹Ù„ÙŠ</option>',7)])],512),[[y,o.filters.type]])])]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-[#1B3C53] dark:text-gray-300 mb-2"},"Ø§Ù„ÙØ¦Ø©",-1)),t("div",Ot,[e[27]||(e[27]=t("span",{class:"material-icons absolute right-3 top-1/2 transform -translate-y-1/2 text-[#456882] dark:text-gray-400"},"class",-1)),v(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.filters.category=s),class:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-white appearance-none"},[...e[26]||(e[26]=[D('<option value="" data-v-4bfc91d2>Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª</option><option value="ÙˆØ§Ù‚Ø¹ÙŠØ©" data-v-4bfc91d2>ÙˆØ§Ù‚Ø¹ÙŠØ©</option><option value="Ø®ÙŠØ§Ù„" data-v-4bfc91d2>Ø®ÙŠØ§Ù„</option><option value="Ø¯ÙŠÙ†ÙŠ" data-v-4bfc91d2>Ø¯ÙŠÙ†ÙŠ</option><option value="ØªØ¹Ù„ÙŠÙ…ÙŠ" data-v-4bfc91d2>ØªØ¹Ù„ÙŠÙ…ÙŠ</option><option value="ØªØ±ÙÙŠÙ‡ÙŠ" data-v-4bfc91d2>ØªØ±ÙÙŠÙ‡ÙŠ</option><option value="ØªØ§Ø±ÙŠØ®ÙŠ" data-v-4bfc91d2>ØªØ§Ø±ÙŠØ®ÙŠ</option><option value="Ø¹Ù„Ù…ÙŠ" data-v-4bfc91d2>Ø¹Ù„Ù…ÙŠ</option><option value="Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ" data-v-4bfc91d2>Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</option>',9)])],512),[[y,o.filters.category]])])]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-[#1B3C53] dark:text-gray-300 mb-2"},"Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¹Ù…Ø±ÙŠØ©",-1)),t("div",Rt,[e[30]||(e[30]=t("span",{class:"material-icons absolute right-3 top-1/2 transform -translate-y-1/2 text-[#456882] dark:text-gray-400"},"child_care",-1)),v(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.filters.age_group=s),class:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-white appearance-none"},[...e[29]||(e[29]=[t("option",{value:""},"Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª",-1),t("option",{value:"3-6 Ø³Ù†ÙˆØ§Øª"},"3-6 Ø³Ù†ÙˆØ§Øª",-1),t("option",{value:"7-9 Ø³Ù†ÙˆØ§Øª"},"7-9 Ø³Ù†ÙˆØ§Øª",-1),t("option",{value:"10-12 Ø³Ù†Ø©"},"10-12 Ø³Ù†Ø©",-1)])],512),[[y,o.filters.age_group]])])])]),t("div",Ft,[t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-[#1B3C53] dark:text-gray-300 mb-2"},"Ø³Ù†Ø© Ø§Ù„Ù†Ø´Ø±",-1)),t("div",Mt,[e[33]||(e[33]=t("span",{class:"material-icons absolute right-3 top-1/2 transform -translate-y-1/2 text-[#456882] dark:text-gray-400"},"calendar_today",-1)),v(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.filters.publication_year=s),class:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-white appearance-none"},[e[32]||(e[32]=t("option",{value:""},"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³Ù†ÙˆØ§Øª",-1)),(d(!0),l(B,null,j(o.publicationYears,s=>(d(),l("option",{key:s,value:s},i(s),9,Jt))),128))],512),[[y,o.filters.publication_year]])])]),t("div",null,[e[37]||(e[37]=t("label",{class:"block text-sm font-medium text-[#1B3C53] dark:text-gray-300 mb-2"},"ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ø±Ø¶",-1)),t("div",qt,[e[36]||(e[36]=t("span",{class:"material-icons absolute right-3 top-1/2 transform -translate-y-1/2 text-[#456882] dark:text-gray-400"},"sort",-1)),v(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>o.filters.sort=s),class:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-white appearance-none"},[...e[35]||(e[35]=[D('<option value="newest" data-v-4bfc91d2>Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹</option><option value="oldest" data-v-4bfc91d2>Ø§Ù„Ø£Ù‚Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹</option><option value="views" data-v-4bfc91d2>Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø´Ø§Ù‡Ø¯Ø©</option><option value="rating" data-v-4bfc91d2>Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹</option><option value="title" data-v-4bfc91d2>Ø­Ø³Ø¨ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</option>',5)])],512),[[y,o.filters.sort]])])]),t("div",null,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-[#1B3C53] dark:text-gray-300 mb-2"},"Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„Ù…Ø¶ÙŠÙ",-1)),t("div",zt,[e[39]||(e[39]=t("span",{class:"material-icons absolute right-3 top-1/2 transform -translate-y-1/2 text-[#456882] dark:text-gray-400"},"person",-1)),v(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>o.filters.added_by=s),class:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-white appearance-none"},[e[38]||(e[38]=t("option",{value:""},"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†",-1)),(d(!0),l(B,null,j(o.employees,s=>(d(),l("option",{key:s.id,value:s.name},i(s.name),9,Ht))),128))],512),[[y,o.filters.added_by]])])])]),t("div",Pt,[t("span",Yt," Ø¹Ø±Ø¶ "+i(o.filteredStories.length)+" Ù…Ù† "+i(o.totalStories),1),t("div",Gt,[t("button",{onClick:e[7]||(e[7]=(...s)=>o.exportData&&o.exportData(...s)),class:"flex items-center gap-2 px-4 py-2 text-[#1B3C53] dark:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors duration-200 text-sm"},[...e[41]||(e[41]=[t("span",{class:"material-icons text-base"},"download",-1),h(" ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ",-1)])]),t("button",{onClick:e[8]||(e[8]=(...s)=>o.resetFilters&&o.resetFilters(...s)),class:"flex items-center gap-2 px-4 py-2 text-[#1B3C53] dark:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors duration-200 text-sm"},[...e[42]||(e[42]=[t("span",{class:"material-icons text-base"},"refresh",-1),h(" Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† ",-1)])])])])]),t("div",Kt,[t("div",Qt,[t("div",Wt,[t("h3",Xt,i(o.getActiveTabTitle()),1),t("button",{onClick:e[9]||(e[9]=(...s)=>o.navigateToAddStory&&o.navigateToAddStory(...s)),class:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#1B3C53] to-[#234C6A] text-white rounded-xl hover:from-[#234C6A] hover:to-[#1B3C53] transition-all duration-200 text-sm font-medium shadow-lg"},[...e[43]||(e[43]=[t("span",{class:"material-icons text-sm"},"add",-1),h(" Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆÙ‰ Ø¬Ø¯ÙŠØ¯ ",-1)])])])]),t("div",Zt,[t("table",$t,[e[57]||(e[57]=t("thead",null,[t("tr",{class:"border-b border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700"},[t("th",{class:"text-right py-4 px-6 text-sm font-medium text-[#1B3C53] dark:text-gray-300"},"Ø§Ù„Ù…Ø­ØªÙˆÙ‰"),t("th",{class:"text-right py-4 px-6 text-sm font-medium text-[#1B3C53] dark:text-gray-300"},"Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª"),t("th",{class:"text-right py-4 px-6 text-sm font-medium text-[#1B3C53] dark:text-gray-300"},"Ø§Ù„Ø­Ø§Ù„Ø©"),t("th",{class:"text-right py-4 px-6 text-sm font-medium text-[#1B3C53] dark:text-gray-300"},"Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª"),t("th",{class:"text-right py-4 px-6 text-sm font-medium text-[#1B3C53] dark:text-gray-300"},"Ø§Ù„Ù…Ø¶ÙŠÙ"),t("th",{class:"text-right py-4 px-6 text-sm font-medium text-[#1B3C53] dark:text-gray-300"},"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª")])],-1)),t("tbody",null,[(d(!0),l(B,null,j(o.filteredStories,s=>{var m,w,_;return d(),l("tr",{key:s.id,class:"border-b border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200"},[t("td",te,[t("div",ee,[t("div",re,[t("span",ae,i(o.getTypeIcon(s.story_type)),1)]),t("div",se,[t("h4",oe,i(s.title),1),t("p",ne,i(s.summary),1),t("div",ie,[t("span",de,i(s.vessel_number),1),t("span",le,i(o.getTypeText(s.story_type)),1)])])])]),t("td",ce,[t("div",ge,[t("div",ue,[e[44]||(e[44]=t("span",{class:"material-icons text-[#456882] dark:text-gray-400 text-base"},"person",-1)),t("span",pe,i(s.author),1)]),t("div",xe,[e[45]||(e[45]=t("span",{class:"material-icons text-[#456882] dark:text-gray-400 text-base"},"category",-1)),t("span",be,i(s.category),1)]),t("div",ve,[e[46]||(e[46]=t("span",{class:"material-icons text-[#456882] dark:text-gray-400 text-base"},"child_care",-1)),t("span",me,i(s.age_group),1)])])]),t("td",ye,[t("div",fe,[t("span",{class:O(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",o.getStatusClass(s.status)])},[t("span",ke,i(o.getStatusIcon(s.status)),1),h(" "+i(o.getStatusText(s.status)),1)],2),s.review_notes?(d(),l("div",we,i(s.review_notes),1)):x("",!0),s.submitted_at?(d(),l("div",_e," Ø£Ø±Ø³Ù„Øª: "+i(o.formatDate(s.submitted_at)),1)):x("",!0)])]),t("td",he,[t("div",Ce,[t("div",Se,[e[47]||(e[47]=t("span",{class:"material-icons text-[#456882] dark:text-gray-400 text-base"},"visibility",-1)),t("span",Be,i(((m=s.stats)==null?void 0:m.views)||0)+" Ù…Ø´Ø§Ù‡Ø¯Ø©",1)]),t("div",je,[e[48]||(e[48]=t("span",{class:"material-icons text-[#456882] dark:text-gray-400 text-base"},"thumb_up",-1)),t("span",Te,i(((w=s.stats)==null?void 0:w.likes)||0)+" Ø¥Ø¹Ø¬Ø§Ø¨",1)]),t("div",Ue,[e[49]||(e[49]=t("span",{class:"material-icons text-[#456882] dark:text-gray-400 text-base"},"download",-1)),t("span",De,i(((_=s.stats)==null?void 0:_.downloads)||0)+" ØªØ­Ù…ÙŠÙ„",1)])])]),t("td",Ee,[t("div",Ae,[t("div",Ie,i(s.added_by||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"),1),t("div",Le,i(o.formatDate(s.created_at)),1)])]),t("td",Ne,[t("div",Ve,[t("button",{onClick:p=>o.previewStory(s),class:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors duration-200",title:"Ù…Ø¹Ø§ÙŠÙ†Ø©"},[...e[50]||(e[50]=[t("span",{class:"material-icons text-sm"},"visibility",-1)])],8,Oe),V(T,{to:`/admin/stories/edit/${s.id}`,class:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors duration-200",title:"ØªØ¹Ø¯ÙŠÙ„"},{default:dt(()=>[...e[51]||(e[51]=[t("span",{class:"material-icons text-sm"},"edit",-1)])]),_:1},8,["to"]),s.status==="pending_review"?(d(),l("button",{key:0,onClick:p=>o.approveStory(s),class:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors duration-200",title:"Ù†Ø´Ø±"},[...e[52]||(e[52]=[t("span",{class:"material-icons text-sm"},"publish",-1)])],8,Re)):x("",!0),s.status==="pending_review"?(d(),l("button",{key:1,onClick:p=>o.requestRevision(s),class:"p-2 text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-colors duration-200",title:"Ø·Ù„Ø¨ ØªØ¹Ø¯ÙŠÙ„"},[...e[53]||(e[53]=[t("span",{class:"material-icons text-sm"},"edit_note",-1)])],8,Fe)):x("",!0),s.status==="pending_review"?(d(),l("button",{key:2,onClick:p=>o.rejectStory(s),class:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors duration-200",title:"Ø±ÙØ¶"},[...e[54]||(e[54]=[t("span",{class:"material-icons text-sm"},"cancel",-1)])],8,Me)):x("",!0),s.status==="published"?(d(),l("button",{key:3,onClick:p=>o.archiveStory(s),class:"p-2 text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-lg transition-colors duration-200",title:"Ø£Ø±Ø´ÙØ©"},[...e[55]||(e[55]=[t("span",{class:"material-icons text-sm"},"archive",-1)])],8,Je)):x("",!0),t("button",{onClick:p=>o.deleteStory(s),class:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors duration-200",title:"Ø­Ø°Ù"},[...e[56]||(e[56]=[t("span",{class:"material-icons text-sm"},"delete",-1)])],8,qe)])])])}),128))])]),o.filteredStories.length===0?(d(),l("div",ze,[e[59]||(e[59]=t("div",{class:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4"},[t("span",{class:"material-icons text-gray-400 text-2xl"},"collections_bookmark")],-1)),e[60]||(e[60]=t("h3",{class:"text-lg font-medium text-[#1B3C53] dark:text-white mb-2"},"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­ØªÙˆÙŠØ§Øª",-1)),e[61]||(e[61]=t("p",{class:"text-[#456882] dark:text-gray-400 mb-6"},"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø­ØªÙˆÙ‰ ÙŠØ·Ø§Ø¨Ù‚ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¨Ø­Ø«",-1)),t("button",{onClick:e[10]||(e[10]=(...s)=>o.navigateToAddStory&&o.navigateToAddStory(...s)),class:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-[#1B3C53] to-[#234C6A] text-white rounded-xl hover:from-[#234C6A] hover:to-[#1B3C53] transition-all duration-200 font-medium shadow-lg"},[...e[58]||(e[58]=[t("span",{class:"material-icons"},"add",-1),h(" Ø¥Ø¶Ø§ÙØ© Ø£ÙˆÙ„ Ù…Ø­ØªÙˆÙ‰ ",-1)])])])):x("",!0)])])])])}const Ye=rt(lt,[["render",He],["__scopeId","data-v-4bfc91d2"]]);export{Ye as default};
