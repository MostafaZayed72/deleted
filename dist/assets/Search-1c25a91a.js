import{_ as ge,u as xe,q as me,r as c,c as R,o as ve,a as he,b as i,d,e as B,f as e,w as C,v as be,i as fe,n as j,j as m,t as n,k as P,T as z,h as N,F as y,l as w,m as V,g as ye}from"./index-85c8a86e.js";const we={name:"Search",setup(){const k=xe(),t=me(),u=c(""),r=c([]),b=c(!1),_=c(!1),A=c(!1),o=c(!1),v=c(""),F=c([]),O=c("newest"),G=c("grid"),T=c(!0),I=c(0),p=c({category:"",ageGroup:"",contentType:""});let x=null;const H=[{id:1,name:"ÙˆØ§Ù‚Ø¹ÙŠØ©",icon:"explore"},{id:2,name:"Ø®ÙŠØ§Ù„",icon:"auto_awesome"},{id:3,name:"Ø¯ÙŠÙ†ÙŠ",icon:"mosque"},{id:4,name:"ØªØ¹Ù„ÙŠÙ…ÙŠ",icon:"school"},{id:5,name:"ØªØ±ÙÙŠÙ‡ÙŠ",icon:"celebration"},{id:6,name:"ØªØ§Ø±ÙŠØ®ÙŠ",icon:"history"},{id:7,name:"Ø¹Ù„Ù…ÙŠ",icon:"science"},{id:8,name:"Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ",icon:"diversity_3"}],K=[{id:"grid",icon:"grid_view",name:"Ø´Ø¨ÙƒØ©"},{id:"list",icon:"view_list",name:"Ù‚Ø§Ø¦Ù…Ø©"}],S=c([]),J=R(()=>r.value.length),Q=R(()=>{const a={image:{name:"ØµÙˆØ±Ø©",count:0,icon:"image",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"},video:{name:"ÙÙŠØ¯ÙŠÙˆ",count:0,icon:"play_circle",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"},audio:{name:"ØµÙˆØª",count:0,icon:"audiotrack",color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"},pdf:{name:"PDF",count:0,icon:"picture_as_pdf",color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300"},text:{name:"Ù†Øµ",count:0,icon:"article",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"}};return Object.keys(a).forEach(s=>{a[s].count=0}),r.value.forEach(s=>{a[s.story_type]&&a[s.story_type].count++}),Object.entries(a).map(([s,l])=>({key:s,...l}))}),W=a=>{const s=Q.value.find(l=>l.key===a);return s?s.color:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"},X=a=>({image:"image",video:"play_circle",audio:"audiotrack",pdf:"picture_as_pdf",text:"article"})[a]||"menu_book",Y=()=>{o.value?q():Z()},Z=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const a=window.SpeechRecognition||window.webkitSpeechRecognition;x=new a,x.continuous=!1,x.interimResults=!0,x.lang="ar-SA",x.onstart=()=>{o.value=!0,v.value="Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹..."},x.onresult=s=>{let l="",g="";for(let f=s.resultIndex;f<s.results.length;f++){const L=s.results[f][0].transcript;s.results[f].isFinal?l+=L:g+=L}v.value=l||g,u.value=l||g},x.onend=()=>{o.value=!1,u.value.trim()&&h()},x.start()}else alert("Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„Ø§Ù…. ÙŠØ±Ø¬Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Chrome Ø£Ùˆ Edge.")},q=()=>{x&&x.stop(),o.value=!1},$=a=>{const s=a.target.files[0];if(s){console.log("ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ù„Ù„Ø¨Ø­Ø«:",s.name);const l="Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù†Øµ Ù…Ù† Ø§Ù„ØµÙˆØ±Ø©";u.value=l,h(),a.target.value=""}},ee=()=>{h()},te=()=>{p.value={category:"",ageGroup:"",contentType:""}},re=a=>{G.value=a},oe=()=>{const a=localStorage.getItem("adminStories");a?S.value=JSON.parse(a):S.value=[{id:1,vessel_number:"VSL-123456-001",title:"Ø§Ù„Ø£Ø³Ø¯ Ø§Ù„Ø´Ø¬Ø§Ø¹",author:"Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",publication_year:"2024",story_type:"image",category:"Ø®ÙŠØ§Ù„",age_group:"4-6 Ø³Ù†ÙˆØ§Øª",status:"published",emoji:"ðŸ¦",summary:"Ù‚ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø¹Ù† Ø§Ù„Ø´Ø¬Ø§Ø¹Ø© ÙˆØ§Ù„ØµØ¯Ø§Ù‚Ø© ÙÙŠ Ø§Ù„ØºØ§Ø¨Ø©",rating:4.8,views:1245,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:2,vessel_number:"VSL-123456-002",title:"Ù…ØºØ§Ù…Ø±Ø§Øª Ø§Ù„Ø£Ø±Ù†Ø¨",author:"ÙØ§Ø·Ù…Ø© Ø¹Ù„ÙŠ",publication_year:"2024",story_type:"video",category:"ØªØ±ÙÙŠÙ‡ÙŠ",age_group:"3-5 Ø³Ù†ÙˆØ§Øª",status:"published",emoji:"ðŸ°",summary:"Ø±Ø­Ù„Ø© Ø§ÙƒØªØ´Ø§Ù Ù…Ù…ØªØ¹Ø© Ù…Ø¹ Ø£Ø±Ù†Ø¨ ØµØºÙŠØ± Ø´Ø¬Ø§Ø¹",rating:4.5,views:892,created_at:new Date(Date.now()-2*24*60*60*1e3).toISOString(),updated_at:new Date().toISOString()},{id:3,vessel_number:"VSL-123456-003",title:"Ø£Ù†Ø§Ø´ÙŠØ¯ Ø§Ù„Ø£Ø·ÙØ§Ù„",author:"Ù…Ø­Ù…Ø¯ Ø§Ù„Ø³ÙŠØ¯",publication_year:"2024",story_type:"audio",category:"ØªØ¹Ù„ÙŠÙ…ÙŠ",age_group:"3-5 Ø³Ù†ÙˆØ§Øª",status:"published",emoji:"ðŸŽµ",summary:"Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø£Ù†Ø§Ø´ÙŠØ¯ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ù…Ù…ØªØ¹Ø© Ù„Ù„Ø£Ø·ÙØ§Ù„",rating:4.7,views:567,created_at:new Date(Date.now()-1*24*60*60*1e3).toISOString(),updated_at:new Date().toISOString()}]},ae=a=>{if(!a||a.length<2){F.value=[];return}const s=S.value.filter(l=>l.title.toLowerCase().includes(a.toLowerCase())||l.author.toLowerCase().includes(a.toLowerCase())||l.summary.toLowerCase().includes(a.toLowerCase())||l.category.toLowerCase().includes(a.toLowerCase())).map(l=>({id:l.id,title:l.title,author:l.author,category:l.category})).slice(0,6);F.value=s},se=()=>{ae(u.value)},le=()=>{setTimeout(()=>{_.value=!1},200)},ne=a=>{u.value=a.title,_.value=!1,U(a.id)},E=R(()=>Object.values(p.value).some(a=>a!==""));ve(()=>{oe(),t.query.q?(u.value=t.query.q,h()):t.query.category?(p.value.category=t.query.category,h()):D()});const h=()=>{if(!u.value.trim()&&!E.value){D();return}_.value=!1,b.value=!0;const a=Date.now(),s={};u.value&&(s.q=u.value),p.value.category&&(s.category=p.value.category),k.push({path:"/search",query:s}),setTimeout(()=>{const l=S.value.filter(g=>{const f=!u.value||g.title.toLowerCase().includes(u.value.toLowerCase())||g.author.toLowerCase().includes(u.value.toLowerCase())||g.summary.toLowerCase().includes(u.value.toLowerCase()),L=!p.value.category||g.category===p.value.category,ue=!p.value.ageGroup||g.age_group===p.value.ageGroup,pe=!p.value.contentType||g.story_type===p.value.contentType,ce=g.status==="published";return f&&L&&ue&&pe&&ce});M(l),r.value=l,b.value=!1,T.value=l.length>=8,I.value=((Date.now()-a)/1e3).toFixed(2)},800)},M=a=>{switch(O.value){case"newest":a.sort((s,l)=>new Date(l.created_at)-new Date(s.created_at));break;case"oldest":a.sort((s,l)=>new Date(s.created_at)-new Date(l.created_at));break;case"rating":a.sort((s,l)=>(l.rating||0)-(s.rating||0));break;case"popular":a.sort((s,l)=>(l.views||0)-(s.views||0));break;case"alphabetical":a.sort((s,l)=>s.title.localeCompare(l.title));break}},ie=()=>{if(r.value.length>0){const a=[...r.value];M(a),r.value=a}},de=()=>{u.value="",p.value={category:"",ageGroup:"",contentType:""},k.push({path:"/search"}),D()},D=()=>{const a=S.value.filter(s=>s.status==="published");M(a),r.value=a,T.value=a.length>=8,I.value=.5},U=a=>{k.push(`/story/${a}`)};return{searchQuery:u,searchResults:r,loading:b,showSuggestions:_,showAdvancedSearch:A,isListening:o,voiceTranscript:v,searchSuggestions:F,sortBy:O,viewMode:G,hasMore:T,searchTime:I,totalResults:J,contentTypes:Q,advancedFilters:p,featuredCategories:H,viewModes:K,hasActiveFilters:E,performSearch:h,applyAdvancedSearch:ee,resetAdvancedFilters:te,changeViewMode:re,searchByCategory:a=>{p.value.category=a,h()},selectSuggestion:ne,clearSearch:de,showAllContents:D,viewContent:U,loadMore:()=>{b.value=!0,setTimeout(()=>{b.value=!1,T.value=!1},1e3)},handleSearchInput:se,hideSuggestions:le,applySorting:ie,toggleVoiceSearch:Y,stopVoiceSearch:q,handleImageSearch:$,getContentTypeIcon:X,getTypeBadgeClass:W,formatDate:a=>new Date(a).toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric"}),isNewContent:a=>{const s=new Date;return s.setDate(s.getDate()-3),new Date(a)>=s}}}},ke={dir:"rtl",class:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-purple-900 dark:to-pink-900 transition-colors duration-300"},_e={class:"max-w-4xl mx-auto mb-8"},Se={class:"relative"},Ce={class:"relative group"},Te={class:"absolute right-4 top-1/2 transform -translate-y-1/2 flex items-center gap-3"},De={class:"relative"},Le={key:0,class:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"},je={key:0,class:"mt-4 p-4 bg-yellow-100 dark:bg-yellow-900 rounded-xl border border-yellow-300 dark:border-yellow-600 animate-pulse"},Ve={class:"flex items-center justify-center gap-3"},Ae={class:"text-center text-yellow-700 dark:text-yellow-300 text-sm mt-2"},Fe={key:0,class:"mt-4 p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-purple-200 dark:border-purple-700 custom-fade-in"},Ie={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Me=["value"],Re={class:"flex justify-end gap-3 mt-4"},Be={key:0,class:"absolute z-50 w-full mt-2 bg-white dark:bg-gray-800 border border-purple-200 dark:border-purple-700 rounded-2xl shadow-2xl max-h-80 overflow-y-auto custom-fade-in"},Ne=["onMousedown"],Oe={class:"flex items-center justify-between"},Ge={class:"flex items-center gap-4"},Qe={class:"text-right"},qe={class:"font-medium text-gray-900 dark:text-white group-hover:text-purple-600 dark:group-hover:text-purple-400"},Ee={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},Ue={class:"max-w-6xl mx-auto mb-8"},Pe={class:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900 dark:to-pink-900 rounded-2xl p-6 border border-purple-200 dark:border-purple-700 shadow-lg"},ze={class:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4"},He={class:"flex-1"},Ke={class:"text-2xl font-bold text-purple-800 dark:text-white mb-2"},Je={class:"text-lg font-normal opacity-70"},We={class:"flex items-center gap-4 text-sm text-purple-600 dark:text-purple-300"},Xe={class:"flex items-center gap-2"},Ye={class:"flex items-center gap-3"},Ze={class:"material-icons text-xs"},$e={class:"flex items-center gap-4"},et={class:"flex items-center gap-2 bg-purple-100 dark:bg-purple-800 rounded-xl p-1 shadow-inner"},tt=["onClick"],rt={class:"material-icons text-lg"},ot={class:"max-w-6xl mx-auto"},at={key:0,class:"text-center py-16"},st={key:1,class:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl border border-purple-200 dark:border-purple-700 shadow-lg custom-fade-in"},lt={class:"text-purple-600 dark:text-purple-400 mb-6 max-w-md mx-auto"},nt={class:"flex flex-col sm:flex-row gap-3 justify-center"},it={key:2,class:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl border border-purple-200 dark:border-purple-700 shadow-lg custom-fade-in"},dt={key:3,class:"custom-fade-in"},ut={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},pt=["onClick"],ct={class:"bg-white dark:bg-gray-800 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl border border-purple-200 dark:border-purple-700 h-full flex flex-col group-hover:border-purple-400"},gt={class:"relative h-48 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 overflow-hidden"},xt={class:"absolute top-4 right-4 text-5xl transform group-hover:scale-110 transition-transform duration-300"},mt={key:0,class:"absolute top-4 left-4 bg-gradient-to-r from-pink-500 to-red-500 text-white px-3 py-1 rounded-full text-sm font-medium shadow-lg animate-pulse"},vt={class:"absolute bottom-4 left-4 bg-white bg-opacity-90 rounded-full p-2 shadow-md"},ht={class:"material-icons text-purple-500 text-lg"},bt={class:"p-4 flex-grow"},ft={class:"text-base font-bold text-purple-800 dark:text-white mb-2 line-clamp-2 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors duration-300"},yt={class:"text-purple-600 dark:text-purple-300 text-sm mb-3 line-clamp-2 leading-relaxed"},wt={class:"flex items-center justify-between mb-2"},kt={class:"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300 px-2 py-1 rounded-full text-xs font-medium shadow-sm"},_t={class:"text-purple-500 dark:text-purple-400 text-xs"},St={class:"flex items-center justify-between text-xs text-purple-500 dark:text-purple-400"},Ct={class:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded transform group-hover:scale-105 transition-transform"},Tt={key:1,class:"space-y-4"},Dt=["onClick"],Lt={class:"flex gap-4"},jt={class:"flex-shrink-0 w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center transform group-hover:scale-110 group-hover:rotate-12 transition-all duration-300 shadow-md"},Vt={class:"text-3xl"},At={class:"flex-grow"},Ft={class:"flex items-start justify-between mb-2"},It={class:"text-lg font-bold text-purple-800 dark:text-white group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors duration-300"},Mt={class:"flex items-center gap-2"},Rt={key:0,class:"bg-gradient-to-r from-pink-500 to-red-500 text-white px-2 py-1 rounded-full text-xs shadow-sm"},Bt={class:"flex items-center gap-1 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 px-2 py-1 rounded-full text-xs shadow-sm transform group-hover:scale-110 transition-transform"},Nt={class:"text-purple-600 dark:text-purple-300 text-sm mb-3 line-clamp-2"},Ot={class:"flex items-center justify-between"},Gt={class:"flex items-center gap-3 text-xs text-purple-500 dark:text-purple-400"},Qt={class:"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300 px-2 py-1 rounded transform group-hover:scale-105 transition-transform"},qt={class:"flex items-center gap-1"},Et={key:2,class:"text-center mt-8"};function Ut(k,t,u,r,b,_){const A=he("AppHeader");return i(),d("div",ke,[B(A),e("main",{class:j(["container mx-auto px-4 py-8",k.containerWidth])},[e("div",_e,[e("div",Se,[e("div",Ce,[C(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>r.searchQuery=o),placeholder:"Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ØŒ Ø§Ù„Ù…Ø¤Ù„ÙÙŠÙ†ØŒ Ø£Ùˆ Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹...",class:"w-full px-6 py-5 text-lg border-2 border-purple-200 rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-300 focus:border-purple-500 dark:focus:border-purple-400 shadow-lg hover:shadow-xl transition-all duration-300 bg-white dark:bg-gray-800 dark:text-white pr-48 transform group-hover:scale-[1.02]",onKeyup:t[1]||(t[1]=fe((...o)=>r.performSearch&&r.performSearch(...o),["enter"])),onInput:t[2]||(t[2]=(...o)=>r.handleSearchInput&&r.handleSearchInput(...o)),onFocus:t[3]||(t[3]=o=>r.showSuggestions=!0),onBlur:t[4]||(t[4]=(...o)=>r.hideSuggestions&&r.hideSuggestions(...o))},null,544),[[be,r.searchQuery]]),t[23]||(t[23]=e("div",{class:"absolute right-40 top-1/2 transform -translate-y-1/2 w-px h-6 bg-purple-300 dark:bg-purple-600"},null,-1)),t[24]||(t[24]=e("div",{class:"absolute left-6 top-1/2 transform -translate-y-1/2"},[e("span",{class:"material-icons text-purple-500 text-2xl"},"search")],-1)),e("div",Te,[e("button",{onClick:t[5]||(t[5]=o=>r.showAdvancedSearch=!r.showAdvancedSearch),class:"p-2 rounded-full hover:bg-purple-100 dark:hover:bg-purple-800 transition-colors duration-200 flex flex-col items-center transform hover:scale-110",title:"Ø¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù…"},[...t[19]||(t[19]=[e("span",{class:"material-icons text-purple-600 text-xl"},"tune",-1),e("span",{class:"text-xs text-purple-600 mt-1"},"ÙÙ„ØªØ±",-1)])]),e("div",De,[e("input",{type:"file",ref:"imageInput",accept:"image/*",onChange:t[6]||(t[6]=(...o)=>r.handleImageSearch&&r.handleImageSearch(...o)),class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"},null,544),t[20]||(t[20]=e("button",{class:"p-2 rounded-full hover:bg-green-100 dark:hover:bg-green-800 transition-colors duration-200 flex flex-col items-center transform hover:scale-110",title:"Ø¨Ø­Ø« Ø¨Ø§Ù„ØµÙˆØ±Ø©"},[e("span",{class:"material-icons text-green-600 text-xl"},"image"),e("span",{class:"text-xs text-green-600 mt-1"},"ØµÙˆØ±Ø©")],-1))]),e("button",{onClick:t[7]||(t[7]=(...o)=>r.toggleVoiceSearch&&r.toggleVoiceSearch(...o)),class:j(["p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-800 transition-colors duration-200 relative flex flex-col items-center transform hover:scale-110",{"bg-red-200 text-red-600 animate-pulse":r.isListening}]),title:"Ø¨Ø­Ø« Ø¨Ø§Ù„ØµÙˆØª"},[t[21]||(t[21]=e("span",{class:"material-icons text-xl"},"mic",-1)),t[22]||(t[22]=e("span",{class:"text-xs text-red-600 mt-1"},"ØµÙˆØª",-1)),r.isListening?(i(),d("div",Le)):m("",!0)],2)])]),r.isListening?(i(),d("div",je,[e("div",Ve,[t[25]||(t[25]=e("span",{class:"material-icons text-red-500 animate-pulse"},"mic",-1)),t[26]||(t[26]=e("p",{class:"text-yellow-800 dark:text-yellow-200 font-medium"},"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹... ØªØ­Ø¯Ø« Ø§Ù„Ø¢Ù†",-1)),e("button",{onClick:t[8]||(t[8]=(...o)=>r.stopVoiceSearch&&r.stopVoiceSearch(...o)),class:"px-3 py-1 bg-red-500 text-white rounded-lg text-sm hover:bg-red-600 transform hover:scale-105 transition-all"}," Ø¥ÙŠÙ‚Ø§Ù ")]),e("p",Ae,n(r.voiceTranscript),1)])):m("",!0),B(z,{name:"custom-slide-down"},{default:P(()=>[r.showAdvancedSearch?(i(),d("div",Fe,[e("div",Ie,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹Ø§Øª",-1)),C(e("select",{"onUpdate:modelValue":t[9]||(t[9]=o=>r.advancedFilters.category=o),class:"w-full px-3 py-2 border border-purple-300 dark:border-purple-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-300"},[t[27]||(t[27]=e("option",{value:""},"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹Ø§Øª",-1)),(i(!0),d(y,null,w(r.featuredCategories,o=>(i(),d("option",{key:o.id,value:o.name},n(o.name),9,Me))),128))],512),[[V,r.advancedFilters.category]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¹Ù…Ø±ÙŠØ©",-1)),C(e("select",{"onUpdate:modelValue":t[10]||(t[10]=o=>r.advancedFilters.ageGroup=o),class:"w-full px-3 py-2 border border-purple-300 dark:border-purple-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-300"},[...t[29]||(t[29]=[e("option",{value:""},"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ù…Ø§Ø±",-1),e("option",{value:"3-5 Ø³Ù†ÙˆØ§Øª"},"3-5 Ø³Ù†ÙˆØ§Øª",-1),e("option",{value:"4-6 Ø³Ù†ÙˆØ§Øª"},"4-6 Ø³Ù†ÙˆØ§Øª",-1),e("option",{value:"6-8 Ø³Ù†ÙˆØ§Øª"},"6-8 Ø³Ù†ÙˆØ§Øª",-1),e("option",{value:"8-10 Ø³Ù†ÙˆØ§Øª"},"8-10 Ø³Ù†ÙˆØ§Øª",-1),e("option",{value:"10-12 Ø³Ù†Ø©"},"10-12 Ø³Ù†Ø©",-1),e("option",{value:"12+ Ø³Ù†Ø©"},"12+ Ø³Ù†Ø©",-1)])],512),[[V,r.advancedFilters.ageGroup]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰",-1)),C(e("select",{"onUpdate:modelValue":t[11]||(t[11]=o=>r.advancedFilters.contentType=o),class:"w-full px-3 py-2 border border-purple-300 dark:border-purple-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-300"},[...t[31]||(t[31]=[e("option",{value:""},"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹",-1),e("option",{value:"image"},"ØµÙˆØ±Ø©",-1),e("option",{value:"video"},"ÙÙŠØ¯ÙŠÙˆ",-1),e("option",{value:"audio"},"ØµÙˆØª",-1),e("option",{value:"pdf"},"PDF",-1),e("option",{value:"text"},"Ù†Øµ",-1)])],512),[[V,r.advancedFilters.contentType]])])]),e("div",Re,[e("button",{onClick:t[12]||(t[12]=(...o)=>r.resetAdvancedFilters&&r.resetAdvancedFilters(...o)),class:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors transform hover:scale-105"}," Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† "),e("button",{onClick:t[13]||(t[13]=(...o)=>r.applyAdvancedSearch&&r.applyAdvancedSearch(...o)),class:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all transform hover:scale-105 shadow-lg hover:shadow-xl"}," ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¨Ø­Ø« ")])])):m("",!0)]),_:1}),B(z,{name:"custom-slide-down"},{default:P(()=>[r.showSuggestions&&r.searchSuggestions.length>0?(i(),d("div",Be,[(i(!0),d(y,null,w(r.searchSuggestions,o=>(i(),d("div",{key:o.id,onMousedown:v=>r.selectSuggestion(o),class:"px-6 py-4 hover:bg-purple-50 dark:hover:bg-purple-900 cursor-pointer border-b border-purple-100 dark:border-purple-800 last:border-b-0 transition-all duration-200 group transform hover:translate-x-2"},[e("div",Oe,[e("div",Ge,[t[33]||(t[33]=e("span",{class:"material-icons text-purple-500 text-xl group-hover:scale-110 transition-transform"},"search",-1)),e("div",Qe,[e("p",qe,n(o.title),1),e("p",Ee,n(o.author)+" â€¢ "+n(o.category),1)])]),t[34]||(t[34]=e("span",{class:"material-icons text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-x-1 transition-all"},"chevron_left",-1))])],40,Ne))),128))])):m("",!0)]),_:1})])]),e("div",Ue,[e("div",Pe,[e("div",ze,[e("div",He,[e("h2",Ke,[t[35]||(t[35]=N(" Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø« ",-1)),e("span",Je," ("+n(r.totalResults)+" Ù†ØªÙŠØ¬Ø©) ",1)]),e("div",We,[e("span",Xe,[t[36]||(t[36]=e("span",{class:"material-icons text-lg text-green-500"},"schedule",-1)),e("span",null,"Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªØºØ±Ù‚: "+n(r.searchTime)+" Ø«Ø§Ù†ÙŠØ©",1)]),e("div",Ye,[(i(!0),d(y,null,w(r.contentTypes,o=>(i(),d("span",{key:o.name,class:j(["flex items-center gap-1 px-2 py-1 rounded-full text-xs shadow-sm",r.getTypeBadgeClass(o.name)])},[e("span",Ze,n(o.icon),1),e("span",null,n(o.name)+" ("+n(o.count)+")",1)],2))),128))])])]),e("div",$e,[e("div",et,[(i(!0),d(y,null,w(r.viewModes,o=>(i(),d("button",{key:o.id,onClick:v=>r.changeViewMode(o.id),class:j(["p-2 rounded-lg transition-all duration-200 transform hover:scale-110",r.viewMode===o.id?"bg-white dark:bg-purple-600 text-purple-600 dark:text-white shadow-sm":"text-purple-500 dark:text-purple-400"])},[e("span",rt,n(o.icon),1)],10,tt))),128))]),C(e("select",{"onUpdate:modelValue":t[14]||(t[14]=o=>r.sortBy=o),onChange:t[15]||(t[15]=(...o)=>r.applySorting&&r.applySorting(...o)),class:"border border-purple-300 dark:border-purple-600 rounded-xl px-3 py-2 text-sm bg-white dark:bg-purple-700 text-purple-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-300 focus:border-purple-500 transition-all duration-200"},[...t[37]||(t[37]=[ye('<option value="newest" data-v-870afbbc>Ø§Ù„Ø£Ø­Ø¯Ø«</option><option value="oldest" data-v-870afbbc>Ø§Ù„Ø£Ù‚Ø¯Ù…</option><option value="rating" data-v-870afbbc>Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹</option><option value="popular" data-v-870afbbc>Ø§Ù„Ø£ÙƒØ«Ø± Ø´ÙŠÙˆØ¹Ø§Ù‹</option><option value="alphabetical" data-v-870afbbc>Ø§Ù„Ø£Ø¨Ø¬Ø¯ÙŠØ©</option>',5)])],544),[[V,r.sortBy]])])])])]),e("div",ot,[r.loading?(i(),d("div",at,[...t[38]||(t[38]=[e("div",{class:"inline-block animate-spin rounded-full h-16 w-16 border-b-2 border-purple-500 mb-4"},null,-1),e("p",{class:"text-purple-600 dark:text-purple-300 text-lg"},"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…ÙƒØªØ¨Ø©...",-1),e("p",{class:"text-purple-500 dark:text-purple-400 text-sm mt-2"},"ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹",-1)])])):r.searchResults.length===0&&(r.searchQuery||r.hasActiveFilters)&&!r.loading?(i(),d("div",st,[t[39]||(t[39]=e("div",{class:"w-24 h-24 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-800 dark:to-pink-800 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md"},[e("span",{class:"material-icons text-purple-400 text-4xl"},"search_off")],-1)),t[40]||(t[40]=e("h3",{class:"text-2xl font-bold text-purple-800 dark:text-white mb-3"},"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬",-1)),e("p",lt,n(r.searchQuery?`Ù„Ù… Ù†Ø¹Ø«Ø± Ø¹Ù„Ù‰ Ø£ÙŠ Ù…Ø­ØªÙˆÙ‰ ÙŠØ·Ø§Ø¨Ù‚ Ø¨Ø­Ø«Ùƒ "${r.searchQuery}"`:"Ù„Ù… Ù†Ø¹Ø«Ø± Ø¹Ù„Ù‰ Ø£ÙŠ Ù…Ø­ØªÙˆÙ‰ ÙŠØ·Ø§Ø¨Ù‚ Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©"),1),e("div",nt,[e("button",{onClick:t[16]||(t[16]=(...o)=>r.clearSearch&&r.clearSearch(...o)),class:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105 shadow-lg"}," Ù…Ø³Ø­ Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ÙÙ„Ø§ØªØ± "),e("button",{onClick:t[17]||(t[17]=(...o)=>r.showAllContents&&r.showAllContents(...o)),class:"px-6 py-3 border-2 border-purple-500 text-purple-600 dark:text-white rounded-xl hover:bg-gradient-to-r hover:from-purple-500 hover:to-pink-500 hover:text-white transition-all duration-300 transform hover:scale-105"}," Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª ")])])):r.searchResults.length===0&&!r.searchQuery&&!r.hasActiveFilters&&!r.loading?(i(),d("div",it,[...t[41]||(t[41]=[e("div",{class:"w-24 h-24 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-800 dark:to-pink-800 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md"},[e("span",{class:"material-icons text-purple-400 text-4xl"},"search")],-1),e("h3",{class:"text-2xl font-bold text-purple-800 dark:text-white mb-3"},"Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¢Ù†",-1),e("p",{class:"text-purple-600 dark:text-purple-400"},"Ø§Ø³ØªØ®Ø¯Ù… Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« Ø£Ø¹Ù„Ø§Ù‡ Ù„Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª",-1)])])):(i(),d("div",dt,[r.viewMode==="grid"?(i(),d("div",ut,[(i(!0),d(y,null,w(r.searchResults,o=>(i(),d("div",{key:o.id,onClick:v=>r.viewContent(o.id),class:"group cursor-pointer transform hover:-translate-y-4 transition-all duration-500"},[e("div",ct,[e("div",gt,[t[42]||(t[42]=e("div",{class:"absolute inset-0 bg-black bg-opacity-20 group-hover:bg-opacity-30 transition-all duration-300"},null,-1)),e("span",xt,n(o.emoji||"ðŸ“–"),1),r.isNewContent(o.created_at)?(i(),d("div",mt," Ø¬Ø¯ÙŠØ¯ ")):m("",!0),e("div",vt,[e("span",ht,n(r.getContentTypeIcon(o.story_type)),1)]),t[43]||(t[43]=e("div",{class:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300"},[e("div",{class:"bg-white bg-opacity-90 rounded-full p-4 transform scale-75 group-hover:scale-100 transition-transform duration-300 shadow-lg"},[e("span",{class:"material-icons text-purple-500 text-2xl"},"play_arrow")])],-1))]),e("div",bt,[e("h4",ft,n(o.title),1),e("p",yt,n(o.summary),1),e("div",wt,[e("span",kt,n(o.age_group),1),e("span",_t,n(o.author),1)]),e("div",St,[e("span",Ct,n(o.category),1),e("span",null,n(r.formatDate(o.created_at)),1)])])])],8,pt))),128))])):r.viewMode==="list"?(i(),d("div",Tt,[(i(!0),d(y,null,w(r.searchResults,o=>(i(),d("div",{key:o.id,onClick:v=>r.viewContent(o.id),class:"group cursor-pointer bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-lg hover:shadow-xl border border-purple-200 dark:border-purple-700 transition-all duration-300 transform hover:-translate-y-1 hover:border-purple-400"},[e("div",Lt,[e("div",jt,[e("span",Vt,n(o.emoji||"ðŸ“–"),1)]),e("div",At,[e("div",Ft,[e("h4",It,n(o.title),1),e("div",Mt,[r.isNewContent(o.created_at)?(i(),d("span",Rt," Ø¬Ø¯ÙŠØ¯ ")):m("",!0),e("span",Bt,[t[44]||(t[44]=e("span",{class:"material-icons text-xs"},"star",-1)),N(" "+n(o.rating||"0.0"),1)])])]),e("p",Nt,n(o.summary),1),e("div",Ot,[e("div",Gt,[e("span",Qt,n(o.category),1),e("span",qt,[t[45]||(t[45]=e("span",{class:"material-icons text-xs"},"person",-1)),N(" "+n(o.author),1)]),e("span",null,n(o.views||0)+" Ù…Ø´Ø§Ù‡Ø¯Ø©",1)]),t[46]||(t[46]=e("span",{class:"material-icons text-purple-400 group-hover:text-purple-600 transform group-hover:translate-x-1 transition-all duration-300"}," arrow_left ",-1))])])])],8,Dt))),128))])):m("",!0),r.searchResults.length>0&&r.hasMore&&!r.loading?(i(),d("div",Et,[e("button",{onClick:t[18]||(t[18]=(...o)=>r.loadMore&&r.loadMore(...o)),class:"px-8 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105 font-medium shadow-lg hover:shadow-xl"}," ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ")])):m("",!0)]))])],2)])}const Jt=ge(we,[["render",Ut],["__scopeId","data-v-870afbbc"]]);export{Jt as default};
