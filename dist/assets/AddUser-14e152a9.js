import{_ as N,u as P,r as g,o as V,a as E,b as x,d as f,f as e,g as A,s as M,w as d,v as y,x as w,t as c,m as I,y as j,h as k,j as O,e as R,k as D}from"./index-85c8a86e.js";const q={name:"Register",setup(){const b=P(),t=g(!1),v=g(!1),r=g(!1),i=g(""),o=g({fullName:"",email:"",password:"",confirmPassword:"",accountType:"parent",phone:"",agreeTerms:!1}),u=()=>{try{return JSON.parse(localStorage.getItem("libraryUsers")||"[]")}catch(a){return console.error("Error loading users:",a),[]}},s=()=>{try{return JSON.parse(localStorage.getItem("libraryEmployees")||"[]")}catch(a){return console.error("Error loading employees:",a),[]}},h=a=>{const l=u();l.push(a),localStorage.setItem("libraryUsers",JSON.stringify(l)),C(a)},C=a=>{const l=s(),n=JSON.parse(localStorage.getItem("userData")||"{}");if(n.role==="employee"){const T=l.map(m=>{if(m.id===n.id){const p=m.stats||{totalUsers:0,parents:0,teachers:0,students:0};return p.totalUsers++,p[`${a.role}s`]++,{...m,stats:p,lastActivity:new Date().toISOString()}}return m});localStorage.setItem("libraryEmployees",JSON.stringify(T))}},B=()=>o.value.password.length<6?(i.value="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„",!1):o.value.password!==o.value.confirmPassword?(i.value="ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©",!1):o.value.agreeTerms?u().find(n=>n.email===o.value.email)?(i.value="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³Ø¬Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹",!1):(i.value="",!0):(i.value="ÙŠØ¬Ø¨ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…",!1),U=async()=>{if(B()){t.value=!0;try{await new Promise(l=>setTimeout(l,1500));const a={id:Date.now(),name:o.value.fullName,email:o.value.email,password:o.value.password,role:o.value.accountType,phone:o.value.phone||null,avatar:o.value.fullName.charAt(0),isActive:!0,createdAt:new Date().toISOString(),lastLogin:null,preferences:{language:"ar",theme:"light",notifications:!0},stats:{storiesRead:0,favorites:0,readingTime:0}};h(a),console.log("âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯:",a),alert("ğŸ‰ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„."),b.push("/login")}catch(a){console.error("âŒ Register error:",a),i.value="Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰."}finally{t.value=!1}}},S=()=>{b.push("/login")};return V(()=>{const a=s(),l=u();console.log("ğŸ‘¥ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†:",{totalUsers:l.length,parents:l.filter(n=>n.role==="parent").length,teachers:l.filter(n=>n.role==="teacher").length,students:l.filter(n=>n.role==="student").length,employees:a.length})}),{form:o,loading:t,showPassword:v,showConfirmPassword:r,errorMessage:i,handleRegister:U,goToLogin:S}}},J={class:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4"},L={class:"max-w-md w-full"},_={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 p-8"},F={class:"relative"},z={class:"relative"},G={class:"relative"},H=["type"],K={class:"material-icons text-lg"},Q={class:"relative"},W=["type"],X={class:"material-icons text-lg"},Y={class:"relative"},Z={class:"relative"},$={class:"flex items-start gap-3"},tt={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-xl text-sm"},et=["disabled"],rt={key:0,class:"flex items-center justify-center gap-2"},st={key:1,class:"flex items-center justify-center gap-2"},at={class:"text-center"},ot={class:"text-center mt-6"};function lt(b,t,v,r,i,o){const u=E("router-link");return x(),f("div",J,[e("div",L,[e("div",_,[t[31]||(t[31]=A('<div class="text-center mb-8" data-v-3b97323b><div class="w-16 h-16 rounded-2xl flex items-center justify-center bg-gradient-to-br from-[#1B3C53] to-[#234C6A] mx-auto mb-4 shadow-lg" data-v-3b97323b><span class="material-icons text-white text-2xl" data-v-3b97323b>person_add</span></div><h2 class="text-2xl font-bold text-[#1B3C53] dark:text-white mb-2" data-v-3b97323b>Ø£Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø¬Ø¯ÙŠØ¯</h2><p class="text-[#456882] dark:text-gray-300" data-v-3b97323b>Ù…Ø±ÙƒØ² ØµØ§Ù„Ø­ Ø¨Ù† ØµØ§Ù„Ø­ - Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø·ÙÙ„ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</p></div>',1)),e("form",{onSubmit:t[9]||(t[9]=M((...s)=>r.handleRegister&&r.handleRegister(...s),["prevent"])),class:"space-y-6"},[e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium mb-2 text-[#1B3C53] dark:text-gray-300"},"Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„",-1)),e("div",F,[t[11]||(t[11]=e("span",{class:"material-icons absolute right-3 top-1/2 transform -translate-y-1/2 text-[#456882] dark:text-gray-400 text-lg"},"person",-1)),d(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>r.form.fullName=s),required:"",placeholder:"Ø§Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„",class:"w-full px-4 py-3 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-white transition-all duration-200"},null,512),[[y,r.form.fullName]])])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium mb-2 text-[#1B3C53] dark:text-gray-300"},"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",-1)),e("div",z,[t[13]||(t[13]=e("span",{class:"material-icons absolute right-3 top-1/2 transform -translate-y-1/2 text-[#456882] dark:text-gray-400 text-lg"},"email",-1)),d(e("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=s=>r.form.email=s),required:"",placeholder:"Ø§Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",class:"w-full px-4 py-3 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-white transition-all duration-200"},null,512),[[y,r.form.email]])])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium mb-2 text-[#1B3C53] dark:text-gray-300"},"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",-1)),e("div",G,[t[15]||(t[15]=e("span",{class:"material-icons absolute right-3 top-1/2 transform -translate-y-1/2 text-[#456882] dark:text-gray-400 text-lg"},"lock",-1)),d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>r.form.password=s),type:r.showPassword?"text":"password",required:"",placeholder:"Ø§Ø®ØªØ± ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©",class:"w-full px-4 py-3 pr-20 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-white transition-all duration-200"},null,8,H),[[w,r.form.password]]),e("button",{type:"button",onClick:t[3]||(t[3]=s=>r.showPassword=!r.showPassword),class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#456882] dark:text-gray-400 hover:text-[#1B3C53] dark:hover:text-white transition-colors duration-200"},[e("span",K,c(r.showPassword?"visibility_off":"visibility"),1)])]),t[17]||(t[17]=e("p",{class:"text-xs mt-2 text-[#456882] dark:text-gray-400"},"ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„",-1))]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium mb-2 text-[#1B3C53] dark:text-gray-300"},"ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",-1)),e("div",Q,[t[18]||(t[18]=e("span",{class:"material-icons absolute right-3 top-1/2 transform -translate-y-1/2 text-[#456882] dark:text-gray-400 text-lg"},"lock",-1)),d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>r.form.confirmPassword=s),type:r.showConfirmPassword?"text":"password",required:"",placeholder:"Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",class:"w-full px-4 py-3 pr-20 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-white transition-all duration-200"},null,8,W),[[w,r.form.confirmPassword]]),e("button",{type:"button",onClick:t[5]||(t[5]=s=>r.showConfirmPassword=!r.showConfirmPassword),class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#456882] dark:text-gray-400 hover:text-[#1B3C53] dark:hover:text-white transition-colors duration-200"},[e("span",X,c(r.showConfirmPassword?"visibility_off":"visibility"),1)])])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium mb-2 text-[#1B3C53] dark:text-gray-300"},"Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨",-1)),e("div",Y,[t[21]||(t[21]=e("span",{class:"material-icons absolute right-3 top-1/2 transform -translate-y-1/2 text-[#456882] dark:text-gray-400 text-lg"},"person_outline",-1)),d(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>r.form.accountType=s),class:"w-full px-4 py-3 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-white appearance-none transition-all duration-200"},[...t[20]||(t[20]=[e("option",{value:"parent"},"ÙˆÙ„ÙŠ Ø£Ù…Ø±",-1),e("option",{value:"teacher"},"Ù…Ø¹Ù„Ù…",-1),e("option",{value:"student"},"Ø·Ø§Ù„Ø¨",-1)])],512),[[I,r.form.accountType]])]),t[23]||(t[23]=e("p",{class:"text-xs mt-2 text-[#456882] dark:text-gray-400"},"Ù…Ù„Ø§Ø­Ø¸Ø©: Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ø¯ÙŠØ± Ø£Ùˆ Ù…ÙˆØ¸Ù Ù…Ù† Ù‡Ù†Ø§",-1))]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium mb-2 text-[#1B3C53] dark:text-gray-300"},"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",-1)),e("div",Z,[t[24]||(t[24]=e("span",{class:"material-icons absolute right-3 top-1/2 transform -translate-y-1/2 text-[#456882] dark:text-gray-400 text-lg"},"phone",-1)),d(e("input",{type:"tel","onUpdate:modelValue":t[7]||(t[7]=s=>r.form.phone=s),placeholder:"Ø§Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ",class:"w-full px-4 py-3 pr-10 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#1B3C53] focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-white transition-all duration-200"},null,512),[[y,r.form.phone]])])]),e("div",$,[d(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=s=>r.form.agreeTerms=s),required:"",class:"mt-1 rounded border-gray-300 dark:border-gray-600 focus:ring-[#1B3C53] bg-white dark:bg-gray-700"},null,512),[[j,r.form.agreeTerms]]),t[26]||(t[26]=e("label",{class:"text-sm text-[#1B3C53] dark:text-gray-300 flex-1"},[k(" Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ "),e("a",{href:"#",class:"font-medium text-[#1B3C53] dark:text-blue-400 hover:underline transition-colors duration-200"},"Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…"),k(" Ùˆ "),e("a",{href:"#",class:"font-medium text-[#1B3C53] dark:text-blue-400 hover:underline transition-colors duration-200"},"Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©")],-1))]),r.errorMessage?(x(),f("div",tt,c(r.errorMessage),1)):O("",!0),e("button",{type:"submit",disabled:r.loading||!r.form.agreeTerms,class:"w-full bg-gradient-to-r from-[#1B3C53] to-[#234C6A] text-white py-3 px-4 rounded-xl hover:from-[#234C6A] hover:to-[#1B3C53] transition-all duration-200 font-semibold disabled:opacity-50 disabled:cursor-not-allowed shadow-lg flex items-center justify-center gap-2"},[r.loading?(x(),f("span",rt,[...t[27]||(t[27]=[e("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},null,-1),e("span",null,"Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨...",-1)])])):(x(),f("span",st,[...t[28]||(t[28]=[e("span",{class:"material-icons text-lg"},"person_add",-1),e("span",null,"Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨",-1)])]))],8,et)],32),t[32]||(t[32]=e("div",{class:"flex items-center my-6"},[e("div",{class:"flex-1 border-t border-gray-300 dark:border-gray-600"}),e("span",{class:"px-4 text-sm text-[#456882] dark:text-gray-400"},"Ø£Ùˆ"),e("div",{class:"flex-1 border-t border-gray-300 dark:border-gray-600"})],-1)),e("div",at,[t[30]||(t[30]=e("p",{class:"text-[#1B3C53] dark:text-gray-300"},"Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ",-1)),e("button",{onClick:t[10]||(t[10]=(...s)=>r.goToLogin&&r.goToLogin(...s)),class:"font-semibold mt-2 text-[#1B3C53] dark:text-blue-400 hover:underline transition-colors duration-200 flex items-center justify-center gap-2 mx-auto"},[...t[29]||(t[29]=[e("span",{class:"material-icons text-lg"},"login",-1),e("span",null,"Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¢Ù†",-1)])])])]),e("div",ot,[R(u,{to:"/",class:"inline-flex items-center gap-2 text-[#1B3C53] dark:text-gray-300 hover:text-[#234C6A] dark:hover:text-white transition-colors duration-200"},{default:D(()=>[...t[33]||(t[33]=[e("span",{class:"material-icons"},"arrow_back",-1),e("span",null,"Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",-1)])]),_:1})])])])}const it=N(q,[["render",lt],["__scopeId","data-v-3b97323b"]]);export{it as default};
